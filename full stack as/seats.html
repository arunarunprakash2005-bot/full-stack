<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SwiftBus | Select Seats</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="navbar">Select Your Seats</div>
    <div class="container">
        <div class="card">
            <div class="bus-container">
                <div class="driver">Steering</div>
                <div class="seat-grid" id="seatMap">
                    <!-- Seats generated by JS -->
                </div>
            </div>

            <div class="selection-box">
                <label>Boarding Point</label>
                <select id="boarding">
                    <option value="Main Stand">Main Bus Stand (10:00 PM)</option>
                    <option value="Railway Gate">Railway Gate (10:30 PM)</option>
                </select>

                <label>Dropping Point</label>
                <select id="dropping">
                    <option value="Central Hub">Central Hub (06:00 AM)</option>
                    <option value="Airport Cross">Airport Cross (06:45 AM)</option>
                </select>
            </div>

            <button class="pay-btn" onclick="goToPayment()">Proceed to Payment</button>
        </div>
    </div>

    <script>
        let selectedSeat = null;
        const seatMap = document.getElementById('seatMap');

        // Generate 12 seats
        for(let i=1; i<=12; i++) {
            let seat = document.createElement('div');
            seat.className = i === 3 ? 'seat occupied' : 'seat'; // Make seat 3 occupied
            seat.innerText = i;
            if(i !== 3) {
                seat.onclick = function() {
                    document.querySelectorAll('.seat').forEach(s => s.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedSeat = i;
                }
            }
            seatMap.appendChild(seat);
        }

        function goToPayment() {
            if(!selectedSeat) return alert("Select a seat first!");
            const board = document.getElementById('boarding').value;
            const drop = document.getElementById('dropping').value;
            
            alert("Seat Confirmed! Redirecting to Payment...");
            window.location.href = `payment.html?seat=${selectedSeat}&board=${board}&drop=${drop}`;
        }
    </script>
</body>
</html>
